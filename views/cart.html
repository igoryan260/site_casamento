<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Links -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="../public/cart.css">
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Merienda:wght@300;400;600;700;800;900&family=Pacifico&family=Parisienne&family=Shantell+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Tangerine:wght@400;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">


    <!-- SDK MercadoPago.js-->
    <script src="https://sdk.mercadopago.com/js/v2"></script>

    <title>Pagar</title>
</head>

<body>

    <h2>Produtos</h2>
    <table>
        <tr>
            <th>Produto</th>
            <th>Preço</th>
            <th>Quantidade</th>
            <th>Adicionar ao Carrinho</th>
        </tr>
        <tr>
            <td>Produto 1</td>
            <td>R$ 50,00</td>
            <td><input type="number" id="quantity1" value="1" min="1"></td>
            <td><button onclick="addToCart('Produto 1', 50.00, 'quantity1')">Adicionar</button></td>
        </tr>
        <tr>
            <td>Produto 2</td>
            <td>R$ 30,00</td>
            <td><input type="number" id="quantity2" value="1" min="1"></td>
            <td><button onclick="addToCart('Produto 2', 30.00, 'quantity2')">Adicionar</button></td>
        </tr>
        <!-- Adicione mais linhas conforme necessário -->
    </table>

    <h2>Carrinho de Compras</h2>
    <table id="cart">
        <tr>
            <th>Produto</th>
            <th>Preço</th>
            <th>Quantidade</th>
            <th>Total</th>
        </tr>
    </table>

    <p class="cart-total">Total do Carrinho: R$ <span id="cart-total">0.00</span></p>

    <script>
        function addToCart(product, price, quantityId) {
            var quantity = document.getElementById(quantityId).value;
            var total = price * quantity;

            var cartTable = document.getElementById("cart");
            var newRow = cartTable.insertRow(-1);

            var productNameCell = newRow.insertCell(0);
            var priceCell = newRow.insertCell(1);
            var quantityCell = newRow.insertCell(2);
            var totalCell = newRow.insertCell(3);

            productNameCell.innerHTML = product;
            priceCell.innerHTML = "R$ " + price.toFixed(2);
            quantityCell.innerHTML = quantity;
            totalCell.innerHTML = "R$ " + total.toFixed(2);

            updateCartTotal();
        }

        function updateCartTotal() {
            var cartTable = document.getElementById("cart");
            var total = 0;

            for (var i = 1; i < cartTable.rows.length; i++) {
                total += parseFloat(cartTable.rows[i].cells[3].innerHTML.replace("R$ ", ""));
            }

            document.getElementById("cart-total").innerHTML = total.toFixed(2);
        }
    </script>

    <!--Mercado Pago Integerção-->
    <script src="js/mercadoPagoIntegracao.js"></script>
</body>

</html>